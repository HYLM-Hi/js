Page({
  data: {
    useData:[{
      array:[
      {
        id: 0,
        name: '初中及以下',
        1: -1000, 2: 10, 3: -50, 4: -50, 5: -100, 6: -50, 7: 30, 8: 50, 9: 50, 10: -1000, 11: -1000, 12: 30
      },
      {
        id: 1,
        name: '高中',
        1: -1000, 2: 20, 3: 0, 4: 0, 5: -50, 6: 10, 7: 30, 8: 50, 9: 50, 10: -1000, 11: -1000, 12: 30
      },
      {
        id: 2,
        name: '大专',
        1: -1000, 2: 30, 3: 30, 4: 30, 5: 30, 6: 30, 7: 30, 8: 30, 9: 50, 10: -1000, 11: -1000, 12: 30
      },
      {
        id: 3,
        name: '本科',
        1: -1000, 2: 30, 3: 40, 4: 40, 5: 40, 6: 40, 7: 40, 8: 40, 9: 30, 10: -1000, 11: -1000, 12: 40
      },
      {
        id: 4,
        name: '硕士',
        1: -1000, 2: 30, 3: 50, 4: 40, 5: 50, 6: 30, 7: 50, 8: 30, 9: -30, 10: -1000, 11: -1000, 12: 50
      },
      {
        id: 5,
        name: '博士',
        1: -1000, 2: 30, 3: 50, 4: 40, 5: 50, 6: 30, 7: 50, 8: 30, 9: -30, 10: -1000, 11: -1000, 12: 50
      }
      ],
    index: 2,
    },
    {
      array:[
    {
      id: 0,
      name: '男',
      1: -1000, 2: 50, 3: 50, 4: 50, 5: 50, 6: 50, 7: 50, 8: 30, 9: 30, 10: -1000, 11: -1000, 12: 30
    },
    {
      id: 1,
      name: '女',
      1: -1000, 2: 50, 3: 30, 4: 30, 5: 10, 6: -30, 7: 50, 8: 50, 9: 50, 10: -1000, 11: -1000, 12: 50
    }
  ],
  index: 0,
    },
    {
      array:[
      {
        id: 0,
        name: '18岁以下',
        1: -1000, 2: 5, 3: 0, 4: 0, 5: -50, 6: 15, 7: 20, 8: 30, 9: 50, 10: -1000, 11: -1000, 12: 20
      },
      {
        id: 1,
        name: '18~24',
        1: -1000, 2: 20, 3: 20, 4: 20, 5: 20, 6: 20, 7: 20, 8: 20, 9: 20, 10: -1000, 11: -1000, 12: 20
      },
      {
        id: 2,
        name: '25~30',
        1: -1000, 2: 20, 3: 20, 4: 20, 5: 20, 6: 20, 7: 20, 8: 20, 9: 20, 10: -1000, 11: -1000, 12: 20
      },
      {
        id: 3,
        name: '30以上',
        1: -1000, 2: -30, 3: -30, 4: -30, 5: -30, 6: -30, 7: 50, 8: 0, 9: 0, 10: -1000, 11: -1000, 12: 50
      },
    ],
    index: 1,
    },
    {
      array:[
      {
        id: 0,
        name: '零基础',
        1: -1000, 2: 50, 3: 0, 4: 0, 5: 0, 6: 0, 7: 10, 8: 20, 9: 50, 10: -1000, 11: -1000, 12: 10
      },
      {
        id: 1,
        name: '绘画基础',
        1: -1000, 2: 0, 3: 0, 4: 0, 5: 0, 6: 0, 7: 0, 8: 50, 9: 0, 10: -1000, 11: -1000, 12: 30
      },
      {
        id: 2,
        name: '网络相关',
        1: -1000, 2: 10, 3: 10, 4: 10, 5: 10, 6: 50, 7: 0, 8: 0, 9: 10, 10: -1000, 11: -1000, 12: 0
      },
      {
        id: 3,
        name: '原型设计',
        1: -1000, 2: 0, 3: 0, 4: 0, 5: 0, 6: 0, 7: 50, 8: 30, 9: 10, 10: -1000, 11: -1000, 12: 30
      },
    ],
    index: 0,
    },
    {
      array:[
      {
        id: 0,
        name: '无专业',
        1: -1000, 2: 30, 3: 0, 4: 0, 5: 0, 6: 0, 7: 30, 8: 50, 9: 50, 10: -1000, 11: -1000, 12: 30
      },
      {
        id: 1,
        name: '计算机相关',
        1: -1000, 2: 35, 3: 35, 4: 35, 5: 50, 6: 40, 7: 40, 8: 40, 9: 30, 10: -1000, 11: -1000, 12: 40
      },
      {
        id: 2,
        name: '理工科',
        1: -1000, 2: 30, 3: 35, 4: 35, 5: 40, 6: 30, 7: 30, 8: 30, 9: 30, 12: 30, 10: -1000, 11: -1000
      },
      {
        id: 3,
        name: '文科',
        1: -1000, 2: 10, 3: 10, 4: 10, 5: 10, 6: 10, 7: 50, 8: 50, 9: 30, 10: -1000, 11: -1000, 12: 50
      },
    ],
    index: 2,
    },
    {
      array:[
      {
        id: 0,
        name: '渣渣',
        1: -1000, 2: 40, 3: 10, 4: 10, 5: 10, 6: 10, 7: 20, 8: 50, 9: 50, 10: -1000, 11: -1000, 12: 20
      },
      {
        id: 1,
        name: '普通',
        1: -1000, 2: 30, 3: 30, 4: 30, 5: 30, 6: 30, 7: 30, 8: 30, 9: 30, 10: -1000, 11: -1000, 12: 30
      },
      {
        id: 2,
        name: '卓越',
        1: -1000, 2: 40, 3: 40, 4: 40, 5: 50, 6: 40, 7: 30, 8: 0, 9: 0, 10: -1000, 11: -1000, 12: 30
      },
    ],
    index: 1,
    },
    ]
  },
    bindPickerChange: function (e) {
    this.setData({
     'useData[0].index': e.detail.value
    })
  },
  sex: function (e) {
    this.setData({
      'useData[1].index': e.detail.value
    })
  },
  age: function (e) {
      this.setData({
        'useData[2].index': e.detail.value
      })
    },
  basics: function (e) {
      this.setData({
        'useData[3].index': e.detail.value
      })
    },
  major: function (e) {
      this.setData({
        'useData[4].index': e.detail.value
      })
    },
  logic: function (e) {
      this.setData({
        'useData[5].index': e.detail.value
      })
    },
 nextTap: function (event) {
  //  初始分
   var total ={1:-1000,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:-1000,11:-1000,12:0};
  //  for循环，初始分加上选中的6组分
  for (var i= 0;i< this.data.useData.length; i++) {
    var x =this.data.useData[i].index;
    var y = this.data.useData[i].array[x];
    
    // 在for循环，数组的每项属性都相加
    for (var z in total){
      total[z]+=y[z];
    }
  };
// 先获取到字符串的数组排序，然后通过map（Number）方式将字符串数组转化为数字数组，最后把对象类型转化为字符串类型
  var thevalue = JSON.stringify((Object.keys(total).sort(function(a,b){
    return total[b]-total[a];
  }).map(Number)));
    //跳转,附带数据从大到小传递到下一个页面
    wx.navigateTo({
      url: "../hy2/hy2?key="+thevalue,
    })
 }
})